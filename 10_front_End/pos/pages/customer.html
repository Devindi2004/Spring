<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Customer</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
<!--    <link href="../js/customer.js">-->
<!--    <link href="../js/jquery-3.7.1.min.js">-->
</head>
<body class="container mt-4">

<h1 class="mb-3">Customer Management</h1>

<div class="mb-4">
    <a href="../index.html" class="me-3">HOME</a>
    <a href="item.html" class="me-3">Item</a>
    <a href="placeOrder.html">Order</a>
</div>

<!-- Customer Form -->
<div class="card p-3 mb-4">
    <div class="mb-2">
        <label class="form-label">Customer ID</label>
        <input id="customerId" type="text" class="form-control">
    </div>

    <div class="mb-2">
        <label class="form-label">Customer Name</label>
        <input id="customerName" type="text" class="form-control">
    </div>

    <div class="mb-2">
        <label class="form-label">Customer Address</label>
        <input id="customerAddress" type="text" class="form-control">
    </div>

    <div class="mb-2">
        <label class="form-label">Customer Age</label>
        <input id="customerAge" type="number" class="form-control">
    </div>

    <div class="mt-3">
        <button class="btn btn-primary" onclick="saveCustomer()">Save</button>
        <button class="btn btn-secondary" onclick="updateCustomer()">Update</button>
        <button class="btn btn-success" onclick="deleteCustomer()">Delete</button>
        <button class="btn btn-danger" onclick="resetForm()">Reset</button>
    </div>
</div>

<!-- Customer Table -->
<h3>Customer List</h3>

<table class="table table-bordered table-hover">
    <thead class="table-dark">
    <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Address</th>
        <th>Age</th>
    </tr>
    </thead>
    <tbody id="customerTable"></tbody>
</table>

<!--<script>-->
<!--    let selectedRow = null;-->
<!--    const baseURL = "http://localhost:8080/customer";-->

<!--    function saveCustomer() {-->
<!--        const customer = {-->
<!--            id: customerId.value,-->
<!--            name: customerName.value,-->
<!--            address: customerAddress.value,-->
<!--            age: customerAge.value-->
<!--        };-->

<!--        fetch(baseURL, {-->
<!--            method: "POST",-->
<!--            headers: {-->
<!--                "Content-Type": "application/json"-->
<!--            },-->
<!--            body: JSON.stringify(customer)-->
<!--        })-->
<!--            .then(res => res.json())-->
<!--            .then(() => {-->
<!--                loadAllCustomers();-->
<!--                resetForm();-->
<!--            })-->
<!--            .catch(err => console.log(err));-->
<!--    }-->

<!--    function loadAllCustomers() {-->
<!--        fetch(baseURL)-->
<!--            .then(res => res.json())-->
<!--            .then(data => {-->
<!--                const table = document.getElementById("customerTable");-->
<!--                table.innerHTML = "";-->

<!--                data.forEach(c => {-->
<!--                    const row = `-->
<!--                    <tr onclick="selectCustomer(this)">-->
<!--                        <td>${c.id}</td>-->
<!--                        <td>${c.name}</td>-->
<!--                        <td>${c.address}</td>-->
<!--                        <td>${c.age}</td>-->
<!--                    </tr>-->
<!--                `;-->
<!--                    table.innerHTML += row;-->
<!--                });-->
<!--            });-->
<!--    }-->

<!--    function selectCustomer(row) {-->
<!--        selectedRow = row;-->
<!--        customerId.value = row.cells[0].innerText;-->
<!--        customerName.value = row.cells[1].innerText;-->
<!--        customerAddress.value = row.cells[2].innerText;-->
<!--        customerAge.value = row.cells[3].innerText;-->
<!--    }-->

<!--    function updateCustomer() {-->
<!--        if (!selectedRow) {-->
<!--            alert("Select customer first");-->
<!--            return;-->
<!--        }-->

<!--        const customer = {-->
<!--            id: customerId.value,-->
<!--            name: customerName.value,-->
<!--            address: customerAddress.value,-->
<!--            age: customerAge.value-->
<!--        };-->

<!--        fetch(baseURL, {-->
<!--            method: "PUT",-->
<!--            headers: {-->
<!--                "Content-Type": "application/json"-->
<!--            },-->
<!--            body: JSON.stringify(customer)-->
<!--        })-->
<!--            .then(() => {-->
<!--                loadAllCustomers();-->
<!--                resetForm();-->
<!--            });-->
<!--    }-->

<!--    function deleteCustomer() {-->
<!--        if (!selectedRow) {-->
<!--            alert("Select customer first");-->
<!--            return;-->
<!--        }-->

<!--        fetch(`${baseURL}/${customerId.value}`, {-->
<!--            method: "DELETE"-->
<!--        })-->
<!--            .then(() => {-->
<!--                loadAllCustomers();-->
<!--                resetForm();-->
<!--            });-->
<!--    }-->

<!--    function resetForm() {-->
<!--        customerId.value = "";-->
<!--        customerName.value = "";-->
<!--        customerAddress.value = "";-->
<!--        customerAge.value = "";-->
<!--        selectedRow = null;-->
<!--    }-->

<!--    window.onload = loadAllCustomers;-->
<!--</script>-->



<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
<script src="../js/customer.js"></script>
<!--<script src="../js/jquery-3.7.1.min.js" ></script>-->
</body>
</html>
